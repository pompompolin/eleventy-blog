<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/blog/images/favicon.ico" />
    <title>Cr√©er un blog statique avec Eleventy | Pauline Gilg</title>
    <meta name="description" content="Je suis partie √† la d√©couverte d&#39;Eleventy, un g√©n√©rateur de site statique. Apr√®s quelques semaines de d√©veloppement, je lance (enfin) mon blog. Dans ce premier article, je partage ce que j&#39;ai appris et vous montre comment cr√©er un blog avec Eleventy.">
    <meta property="og:url" content="https://paulinegilg.eu/blog/posts/creer-blog-eleventy/" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Cr√©er un blog statique avec Eleventy | Pauline Gilg" />
    <meta property="og:description" content="Ou comment j&#39;ai (enfin) trouv√© l&#39;outil de blog dont je r√™vais." />
    <meta property="og:image" content="https://paulinegilg.eu/blog/images/start-a-blog.jpg" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/064186328e.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://paulinegilg.eu/blog/style.css" />

    <!-- Tarte au citron -->
    <script type="text/javascript" src="https://paulinegilg.eu/blog/tarteaucitron/tarteaucitron.js"></script>

        <script type="text/javascript">
        tarteaucitron.init({
    	  "privacyUrl": "https://paulinegilg.eu/cookies", /* Privacy policy url */

    	  "hashtag": "#tarteaucitron", /* Open the panel with this hashtag */
    	  "cookieName": "tarteaucitron", /* Cookie name */
    
    	  "orientation": "bottom", /* Banner position (top - bottom) */
    	  "showAlertSmall": false, /* Show the small banner on bottom right */
    	  "cookieslist": true, /* Show the cookie list */

    	  "adblocker": false, /* Show a Warning if an adblocker is detected */
    	  "AcceptAllCta" : true, /* Show the accept all button when highPrivacy on */
    	  "highPrivacy": true, /* Disable auto consent */
    	  "handleBrowserDNTRequest": false, /* If Do Not Track == 1, disallow all */

    	  "removeCredit": false, /* Remove credit link */
    	  "moreInfoLink": true, /* Show more info link */
    	  "useExternalCss": false, /* If false, the tarteaucitron.css file will be loaded */

    	  //"cookieDomain": ".my-multisite-domaine.fr", /* Shared cookie for multisite */
                          
    	  "readmoreLink": "/cookiespolicy" /* Change the default readmore link */
        });
        </script>
  </head>
  <body>
    <nav id="navbar">
        <div class="nav-wrapper">
            <span class="home-button"><a href="/blog/">üè†</a></span>
            <ul>
                <li><a href="https://paulinegilg.eu" target="_blank">A propos</a></li>
                <li><a href="mailto:gilgpauline@gmail.com" target="_blank">Contact</a></li>
            </ul>
        </div>
    </nav>
    
<header class="post" style="background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.5) 0%,rgba(255, 255, 255, 0.5) 100%), url('/blog/images/start-a-blog.jpg');">
    <h1 class="post-title">Cr√©er un blog statique avec Eleventy</h1>
    <p class="post-date">Post√© le 1er juin 2020 par Pauline Gilg</p>
</header>
<main class="post">
    <div class="post-wrapper">
    <p>Ceux qui me connaissent le savent, j‚Äôadore les blogs. J‚Äôen ai eu pr√®s d‚Äôune dizaine qui n‚Äôont jamais tenu plus de quelques mois. Je manquais certainement d‚Äôinspiration ou de motivation. Mais la plupart du temps, je me sentais brid√©e par les plateformes de blog que j‚Äôutilisais.</p>
<p>Il y quelques semaines, je suis tomb√©e par hasard sur un podcast nomm√© <a href="https://twitter.com/toolsday">Toolsday</a>. Dans un √©pisode, Una Kravets, sp√©cialiste de d√©veloppement front-end et de design, √©voque la r√©cente refonte de son blog. Elle raconte comment et pourquoi elle a choisi Eleventy, un outil √©mergeant du web.</p>
<p>Son exp√©rience a piqu√© ma curiosit√©. J‚Äôai commenc√© √† faire des recherches sur le sujet. Petit √† petit, mon envie de cr√©er un blog de z√©ro s'est r√©veill√©e.</p>
<p>Je r√™vais d‚Äôune technologie simple, √©l√©gante et personnalisable avec juste ce qu‚Äôil faut de challenge. Et vous savez quoi ? J‚Äôai enfin trouv√© la perle rare.</p>
<p>Mettre au point ce blog n'a pas √©t√© simple au d√©part, comme c'est souvent le cas quand on d√©couvre un nouvel outil. J'ai n√©anmoins pris du plaisir √† le d√©velopper et j'ai beaucoup appris en cours de route. Pour mon premier article, j'aimerais partager cela avec vous. Qui sait ? Peut-√™tre que cela vous donnera aussi envie de cr√©er votre blog avec Eleventy.</p>
<h2>Sommaire</h2>
<ul>
<li><a href="#1">Eleventy, c'est quoi ?</a></li>
<li><a href="#2">Pourquoi choisir un g√©n√©rateur de site statique ?</a></li>
<li><a href="#3">Installer Eleventy</a></li>
<li><a href="#4">Cr√©er un article</a></li>
<li><a href="#5">Construire un template</a></li>
<li><a href="#6">Cr√©er une page d‚Äôaccueil</a></li>
<li><a href="#7">Appliquer du style</a></li>
<li><a href="#8">Relier des templates entre eux</a></li>
<li><a href="#9">Ajouter une image √† la une aux articles</a></li>
</ul>
<h2><a name="1"></a>Eleventy, c‚Äôest quoi ?</h2>
<p>Commen√ßons par le commencement. <a href="https://www.11ty.dev/">Eleventy</a>, ou 11ty pour les intimes, est un g√©n√©rateur de site statique n√© en 2018 et cr√©√© avec JavaScript. Il existe beaucoup de g√©n√©rateurs de site statique. Parmi les plus connus, on peut citer Gatsby, Next.js et Jekyll.</p>
<p>Leur fonctionnement est simple. Ils compilent des templates et des contenus pour g√©n√©rer des pages web reli√©es entre elles et donc, un site.</p>
<p>De la m√™me mani√®re que les CMS, ils permettent donc de g√©rer s√©par√©ment l‚Äôaspect graphique et les contenus. Cependant, ils ne font pas (ou presque pas) appel √† des langages de scripts c√¥t√© serveur et n‚Äôutilisent pas de base de donn√©es.</p>
<p><img src="https://media.giphy.com/media/xT0xeJpnrWC4XWblEk/giphy.gif" alt=""></p>
<p>C‚Äôest √† peu pr√®s comment mon moi du pass√© a r√©agi en faisant cette d√©couverte.</p>
<p>Les g√©n√©rateurs de site statique sont souvent utilis√©s pour cr√©er des blogs. Ils sont le compromis id√©al entre un site statique cod√© &quot;√† la main&quot; et un CMS.</p>
<h2><a name="2"></a>Pourquoi choisir un g√©n√©rateur de site statique ?</h2>
<h3>Des temps de chargement plus rapides</h3>
<p>Les sites statiques ne vont pas chercher de l‚Äôinformation de fa√ßon dynamique dans une base de donn√©es. Ils permettent donc de gagner de pr√©cieuses secondes.</p>
<h3>Plus de s√©curit√©</h3>
<p>Les g√©n√©rateurs de site statique n'ont pas ou peu de lien avec des infrastructures c√¥t√© serveur. Ils courent de ce fait moins de risques li√©s √† la s√©curit√©. Dans la plupart des cas, il n‚Äôy a pas non plus de tableau de bord avec des acc√®s administrateurs √† s√©curiser.</p>
<h3>La libert√©</h3>
<p>Il est vrai que les g√©n√©rateurs de site statique demandent plus de comp√©tences techniques que les CMS. Mais c‚Äôest en quelque sorte le prix de la libert√©. La personnalisation est sans limite avec les langages de programmation au c≈ìur des g√©n√©rateurs.</p>
<h2><a name="3"></a>Installer Eleventy</h2>
<p>Avant de commencer, il est n√©cessaire de s‚Äôassurer d‚Äôavoir Node install√© sur son ordinateur. Pour cela, ouvrez votre Terminal (Mac) ou votre Invite de commande (Windows). Tapez et ex√©cutez la commande suivante :</p>
<pre><code>node -- version
</code></pre>
<p>Eleventy a besoin de Node 8 ou plus pour fonctionner. Si vous n‚Äôavez pas la bonne version, rendez-vous sur le <a href="https://nodejs.org/fr/site">site de Node</a> pour la t√©l√©charger.</p>
<p>Pour installer Eleventy, ex√©cutez la commande suivante :</p>
<pre><code>npm install -g @11ty/eleventy
</code></pre>
<h2><a name="4"></a>Cr√©er un article</h2>
<p>Cr√©ez un nouveau dossier pour votre projet, soit en utilisant l‚Äôinterface utilisateur, soit en ligne de commande. Utilisez <code>cd</code> pour vous d√©placer dans vos dossiers et <code>mkdir</code> pour un cr√©er un √† l'emplacement choisi.</p>
<p>Dans votre nouveau dossier, cr√©ez votre premier article en langage Markdown : <code>blog-post.md</code>. Editez l‚Äôarticle en y ajoutant le code suivant :</p>
<pre><code># Le titre de mon 1er post

Hello World!
</code></pre>
<p>Maintenant, lancez Eleventy (en vous pla√ßant toujours dans le dossier de votre projet) en ex√©cutant la commande suivante :</p>
<pre><code>eleventy
</code></pre>
<p>Le terminal vous r√©pondra quelque chose du genre :</p>
<pre><code>Writing _site/blog-post/index.html from ./blog-post.md.
Wrote 1 file in 2.45 seconds (v0.11.0)
</code></pre>
<p>Si vous retournez dans votre dossier de projet, vous verrez qu‚ÄôEleventy y a cr√©√© un nouveau dossier <code>_site</code>. A l‚Äôint√©rieur, vous trouverez un dossier <code>blog-post</code> contenant une page <code>index.html</code>. Ouvrez-l√† dans votre √©diteur de code :</p>
<pre><code>&lt;h1&gt;Le titre de mon premier post&lt;/h1&gt;

&lt;p&gt;Hello World!&lt;/p&gt;
</code></pre>
<p>Eleventy a transform√© du Markdown en HTML ! G√©nial non ?</p>
<p>A ce stade, vous √™tes peut-√™tre en train de vous demander √† quoi √ßa sert de transformer des fichiers comme cela. Est-ce qu‚Äôil ne serait pas plus simple d‚Äô√©crire directement nos articles en HTML ?</p>
<p>L'avantage du Markdown, c‚Äôest sa simplicit√©. On peut le lire ou l‚Äô√©crire en l‚Äô√©tat, sans avoir √† d√©chiffrer le balisage. C'est l'id√©al pour r√©diger des articles de blog. Si vous d√©couvrez ici le Markdown, je vous recommande <a href="https://www.markdownguide.org/basic-syntax/">ce guide</a> pour vous familiriser avec la syntaxe.</p>
<p>Revenons √† notre article qu‚ÄôEleventy a transform√© en HTML. Nous avons bien des balises <code>&lt;h1&gt;</code> et <code>&lt;p&gt;</code> correspondant √† notre titre et √† notre paragraphe. Cependant, ce fichier HTML n‚Äôest pas valide en l‚Äô√©tat.</p>
<h2><a name="5"></a>Construire un template</h2>
<p>Dans l‚Äôid√©al, nous aimerions rendre nos articles valides sans avoir √† y r√©√©crire √† chaque fois les balises HTML de base. C‚Äôest l√† que les templates entrent en jeu.</p>
<p>Dans votre projet, cr√©ez un dossier <code>_includes</code>. A l‚Äôint√©rieur de celui-ci, cr√©ez un fichier <code>base.njk</code> en langage de templating <a href="https://mozilla.github.io/nunjucks/fr/templating.html">Nunjucks</a>. Dans ce fichier, nous allons construire le template de nos articles :</p>
<p><em>Note : les variables en Nunjucks sont interpr√©t√©es par les templates m√™me dans des balises <code>&lt;code&gt;</code>. Il m'est donc impossible de fournir du code contenant des variables. Certaines √©tapes de ce tutoriel seront donc illustr√©es avec des images. Je suis preneuse d'astuces permettant de contourner cela. Merci !</em></p>
<p><img src="../../images/eleventy-tuto-1.png" alt=""></p>
<p>En Nunjucks, les √©l√©ments entre accolades repr√©sentent des variables. Ils permettent de r√©cup√©rer des contenus provenant d'autres fichiers.</p>
<p>Ensuite, au d√©but de votre article, int√©grez le code suivant :</p>
<p><img src="../../images/eleventy-tuto-2.png" alt=""></p>
<p>Ce bout de code indique √† Eleventy que cet article doit √™tre compil√© avec le template <code>post.njk</code>.</p>
<p>Vous pouvez supprimer votre titre <code># Le titre de mon 1er post</code> pr√©sent dans le corps du texte. Le titre de l‚Äôarticle est d√©sormais stock√© dans la variable <code>postTitle</code>. Il pourra ainsi √™tre affich√© dans le template entre les balises <code>&lt;h1&gt;</code>.</p>
<p>Les √©l√©ments entre les <code>---</code> sont appel√©s YAML Front Matter. C'est un moyen de passer des informations au template au moment de la compilation.</p>
<p>Sauvegardez et relancez la commande <code>eleventy</code> dans votre Terminal. Regardez le r√©sultat sous <code>_site/blog-post/index.html</code> :</p>
<pre><code>&lt;!doctype html&gt;
&lt;html lang=&quot;fr&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot;&gt;
        &lt;title&gt;Mon blog&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Le titre de mon 1er post&lt;/h1&gt;
        &lt;p&gt;Hello World!&lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>Cette fois √ßa y est, nous avons une page HTML valide !</p>
<h2><a name="6"></a>Cr√©er une page d‚Äôaccueil</h2>
<p>Un blog avec un seul article, c‚Äôest un peu triste. Cr√©ez un deuxi√®me article <code>blog-post2.md</code> :</p>
<p><img src="../../images/eleventy-tuto-3.png" alt=""></p>
<p>Pour avoir un blog digne de ce nom, il nous faudrait √©galement une page d'accueil listant tous nos articles.</p>
<p>Commen√ßons par cr√©er un dossier <code>posts</code> pour y ranger tous nos articles. Dans ce dossier <code>posts</code>, cr√©ez un fichier <code>posts.json</code>. Vous pourrez y √©crire des informations qui s'appliqueront √† tous les articles. Par exemple, nous pouvons demander √† Eleventy de compiler les articles avec le template <code>base.njk</code>. Dans votre fichier <code>posts/posts.json</code>, int√©grez le code suivant :</p>
<pre><code>{

    &quot;layout&quot;: &quot;base.njk&quot;

}
</code></pre>
<p>Par cons√©quent, dans nos articles, nous n‚Äôavons plus besoin de pr√©ciser <code>layout: post.njk</code> dans le front matter. Nous avons toutefois toujours besoin de leur donner un titre :</p>
<p><img src="../../images/eleventy-tuto-4.png" alt=""></p>
<p>Pour lister tous nos articles sur la page d‚Äôaccueil, il faut indiquer √† Eleventy de les regrouper. Pour cela, nous avons besoin de ce que l‚Äôon appelle une &quot;collection&quot;.</p>
<p>Dans votre fichier <code>posts/posts.json</code>, ajoutez un array <code>tags</code> pour stocker tous les articles :</p>
<pre><code>{

    &quot;layout&quot;: &quot;base.njk&quot;,

    &quot;tags&quot;: [&quot;posts&quot;]

}
</code></pre>
<p>Nous pouvons maintenant cr√©er une page d‚Äôaccueil. √Ä la racine du projet, cr√©ez un fichier <code>index.html</code> comme suit :</p>
<p><img src="../../images/eleventy-tuto-5.png" alt=""></p>
<p>Retournez dans votre terminal et cette fois-ci, ex√©cutez la commande suivante :</p>
<pre><code>eleventy --serve
</code></pre>
<p>Vous venez de lancer un serveur local. Il se rafra√Æchit automatiquement quand vous sauvegardez. Votre blog est d√©sormais visible √† l‚Äôadresse <a href="http://localhost:8080">http://localhost:8080</a>.</p>
<p><img src="../../images/no-style-blog.jpg" alt=""></p>
<h2><a name="7"></a>Appliquer du style</h2>
<p>En l‚Äô√©tat, notre blog n‚Äôa rien de tr√®s glamour. Pour le personnaliser, cr√©ez un fichier CSS <code>style.css</code> √† la racine du projet. Admettons que nous souhaitons avoir une couleur de fond rouge. Dans le fichier <code>style.css</code>, √©crivez le code suivant :</p>
<pre><code>body {

    background-color: red;

}
</code></pre>
<p>Ajoutez votre feuille de style au template <code>base.njk</code> en ajoutant la ligne suivante dans le <code>&lt;head&gt;</code> :</p>
<p><img src="../../images/eleventy-tuto-6.png" alt=""></p>
<p>Sauvegardez et observez les changements dans le navigateur. Le style ne s‚Äôapplique pas.</p>
<p>Eleventy ne semble pas avoir copi√© <code>style.css</code> dans le dossier <code>_site</code> au moment de compiler. En fait, il est n√©cessaire de lui indiquer les extensions de fichiers et les dossiers qu‚Äôil doit copier.</p>
<p>Cr√©ez un fichier <code>.eleventy.js</code> √† la racine du projet et int√©grez-y le code suivant :</p>
<pre><code>module.exports = function(eleventyConfig) {
    eleventyConfig.setTemplateFormats([
        &quot;njk&quot;,
        &quot;md&quot;,
        &quot;html&quot;,
        &quot;css&quot;
    ]);
    eleventyConfig.addPassthroughCopy('images');
};
</code></pre>
<p>Nous lui demandons de copier tous les fichiers Nunjucks, Markdown, HTML et CSS. Il copiera √©galement le dossier images dans lequel nous rangerons nos visuels. On appelle cela le &quot;passthrough&quot;.</p>
<p><em>Note : il est parfois n√©cessaire de relancer Eleventy apr√®s avoir modifi√© le passthrough.</em></p>
<p>Dans le navigateur, cette fois le style s‚Äôapplique bien, notre background est rouge.</p>
<p><img src="../../images/with-style-blog.jpg" alt=""></p>
<h2><a name="8"></a>Relier des templates entre eux</h2>
<p>Sur mon blog, j‚Äôutilise 3 templates :</p>
<ul>
<li><code>home.njk</code> pour la page d‚Äôaccueil</li>
<li><code>post.njk</code> pour les articles</li>
<li><code>base.njk</code> pour structurer l‚Äôensemble du blog</li>
</ul>
<p>Cela me permet d'avoir un affichage diff√©rent sur la page d‚Äôaccueil et sur les articles. Consultez la documentation d'Eleventy pour en savoir plus sur le <a href="https://www.11ty.dev/docs/layout-chaining/">layout chaining</a>.</p>
<p>Essayons de faire de m√™me. Commencez par cr√©er 2 nouveaux templates, <code>home.njk</code> et <code>post.njk</code> dans le dossier <code>_includes</code>. Ajoutez-y le code suivant :</p>
<p><img src="../../images/eleventy-tuto-7.png" alt=""></p>
<p>Dans le front matter, nous indiquons √† Eleventy que ces templates se basent sur le template <code>base.njk</code>.</p>
<p>Retournez maintenant dans le fichier <code>index.html</code> √† la racine du projet. Il s‚Äôagit du fichier qui contient notre page d‚Äôaccueil. Changez le layout en <code>home.njk</code>.</p>
<p>De la m√™me mani√®re, changez le layout des articles en <code>post.njk</code> en vous rendant dans <code>posts/posts.json</code>.</p>
<p>Le template <code>base.njk</code> ne change pas.</p>
<p>Normalement votre blog devrait toujours fonctionner comme avant. Vous avez cependant dissoci√© l'affichage de la page d'accueil de celui des articles. Vous pourrez maintenant les personnaliser s√©par√©ment.</p>
<h2><a name="9"></a>Ajouter une image √† la une aux articles</h2>
<p>Pour ajouter une image √† la une (ou thumbnail) √† vos articles, cr√©ez un dossier <code>images</code> √† la racine de votre projet. Si vous avez suivi ce tutoriel depuis le d√©but, vous devriez avoir configur√© un passthrough pour ce dossier. Si ce n‚Äôest pas le cas, je vous invite √† revenir √† la <a href="#7">section sur le style</a>.</p>
<p>Ensuite, dans un de vos articles, ajoutez votre image dans le front matter :</p>
<p><img src="../../images/eleventy-tuto-8.png" alt=""></p>
<p>Enfin, ajoutez votre image dans le template <code>post.njk</code> :</p>
<p><img src="../../images/eleventy-tuto-9.png" alt=""></p>
<p>Le r√©sultat :</p>
<p><img src="../../images/blog-post-thumbnail.jpg" alt=""></p>
<p>Vous pouvez d√©sormais avoir une image √† la une dans tous vos articles, simplement en renseignant son nom dans le front matter. Pratique non ?</p>
<p>Et voil√† ! Vous avez cr√©√© un blog !</p>
<blockquote>
<p>Pour pousser un peu plus loin, consultez la <a href="https://www.11ty.dev/docs/">documentation d'Eleventy</a>. Et si vous avez des questions ou des suggestions au sujet de cet article, n'h√©sitez pas √† me contacter !</p>
</blockquote>
<h3>Sources</h3>
<ul>
<li><a href="https://www.11ty.dev/docs/">Eleventy - Documentation</a></li>
<li><a href="https://www.filamentgroup.com/lab/build-a-blog/">Filament Group - Build your own Blog from Scratch using Eleventy</a></li>
<li><a href="https://snipcart.com/blog/choose-best-static-site-generator">Snipcart.com - Pick the Best Static Site Generator for your 2020 Projects</a></li>
</ul>
  

    <!-- See more posts button -->   
    <p class="see-more-posts"><a href="/blog/">Voir plus de posts <span>üëÄ</span></a></p>

    <!-- Disqus comments - Do NOT modify below this line -->
    <div id="disqus_thread"></div>
    <script>
    (function() {
    var d = document, s = d.createElement('script');
    s.src = 'https://pauline-gilg-blog.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> 
    </div>
</main>
    <footer>
      <div class="social-media">
        <a href="https://www.linkedin.com/in/pauline-gilg/" target="_blank"><i class="fab fa-linkedin"></i></a>
        <a href="https://twitter.com/pompompolin" target="_blank"><i class="fab fa-twitter"></i></a>
        <a href="https://codepen.io/pompompolin" target="_blank"><i class="fab fa-codepen"></i></a>
        <a href="https://github.com/pompompolin" target="_blank"><i class="fab fa-github"></i></a>
      </div>
      <div class="copyrights">
        <p>¬© Pauline Gilg 2020. D√©velopp√© avec Eleventy. Voir le <a href="https://github.com/pompompolin/eleventy-blog" target="_blank">code</a>.</p>
      </div>
    </footer>
    <!-- My JavaScript -->
    <script src="https://paulinegilg.eu/blog/main.js"></script>
    <!-- Tarte au citron & Google Analytics -->
    <script type="text/javascript">
      tarteaucitron.user.gtagUa = 'UA-167708559-1';
      tarteaucitron.user.gtagMore = function () { /* add here your optionnal gtag() */ };
      (tarteaucitron.job = tarteaucitron.job || []).push('gtag');
    </script>
  </body>
</html>